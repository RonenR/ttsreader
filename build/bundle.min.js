!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,(function(r){return o(e[i][1][r]||r)}),p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){exports.Languages={allLocales:[["Afrikaans (Suid-Afrika)","af-ZA","Afrikaans (South Africa)"],["áŠ áˆ›áˆ­áŠ› (áŠ¢á‰µá‹®áŒµá‹«)","am-ET","Amharic (Ethiopia)"],["Õ€Õ¡Õµ (Õ€Õ¡ÕµÕ¡Õ½Õ¿Õ¡Õ¶)","hy-AM","Armenian (Armenia)"],["AzÉ™rbaycan (AzÉ™rbaycan)","az-AZ","Azerbaijani (Azerbaijan)"],["Bahasa Indonesia (Indonesia)","id-ID","Indonesian (Indonesia)",1],["Bahasa Melayu (Malaysia)","ms-MY","Malay (Malaysia)"],["à¦¬à¦¾à¦‚à¦²à¦¾ (à¦¬à¦¾à¦‚à¦²à¦¾à¦¦à§‡à¦¶)","bn-BD","Bengali (Bangladesh)",1],["à¦¬à¦¾à¦‚à¦²à¦¾ (à¦­à¦¾à¦°à¦¤)","bn-IN","Bengali (India)"],["CatalÃ  (Espanya)","ca-ES","Catalan (Spain)"],["ÄŒeÅ¡tina (ÄŒeskÃ¡ republika)","cs-CZ","Czech (Czech Republic)"],["Dansk (Danmark)","da-DK","Danish (Denmark)"],["Deutsch (Deutschland)","de-DE","German (Germany)"],["English (Australia)","en-AU","English (Australia)"],["English (Canada)","en-CA","English (Canada)"],["English (Ghana)","en-GH","English (Ghana)"],["English (Great Britain)","en-GB","English (United Kingdom)"],["English (India)","en-IN","English (India)"],["English (Ireland)","en-IE","English (Ireland)"],["English (Kenya)","en-KE","English (Kenya)"],["English (New Zealand)","en-NZ","English (New Zealand)"],["English (Nigeria)","en-NG","English (Nigeria)"],["English (Philippines)","en-PH","English (Philippines)"],["English (Singapore)","en-SG","English (Singapore)"],["English (South Africa)","en-ZA","English (South Africa)"],["English (Tanzania)","en-TZ","English (Tanzania)"],["English (United States)","en-US","English (United States)",1],["EspaÃ±ol (Argentina)","es-AR","Spanish (Argentina)"],["EspaÃ±ol (Bolivia)","es-BO","Spanish (Bolivia)"],["EspaÃ±ol (Chile)","es-CL","Spanish (Chile)"],["EspaÃ±ol (Colombia)","es-CO","Spanish (Colombia)"],["EspaÃ±ol (Costa Rica)","es-CR","Spanish (Costa Rica)"],["EspaÃ±ol (Ecuador)","es-EC","Spanish (Ecuador)"],["EspaÃ±ol (El Salvador)","es-SV","Spanish (El Salvador)"],["EspaÃ±ol (EspaÃ±a)","es-ES","Spanish (Spain)",1],["EspaÃ±ol (Estados Unidos)","es-US","Spanish (United States)"],["EspaÃ±ol (Guatemala)","es-GT","Spanish (Guatemala)"],["EspaÃ±ol (Honduras)","es-HN","Spanish (Honduras)"],["EspaÃ±ol (MÃ©xico)","es-MX","Spanish (Mexico)"],["EspaÃ±ol (Nicaragua)","es-NI","Spanish (Nicaragua)"],["EspaÃ±ol (PanamÃ¡)","es-PA","Spanish (Panama)"],["EspaÃ±ol (Paraguay)","es-PY","Spanish (Paraguay)"],["EspaÃ±ol (PerÃº)","es-PE","Spanish (Peru)"],["EspaÃ±ol (Puerto Rico)","es-PR","Spanish (Puerto Rico)"],["EspaÃ±ol (RepÃºblica Dominicana)","es-DO","Spanish (Dominican Republic)"],["EspaÃ±ol (Uruguay)","es-UY","Spanish (Uruguay)"],["EspaÃ±ol (Venezuela)","es-VE","Spanish (Venezuela)"],["Euskara (Espainia)","eu-ES","Basque (Spain)"],["Filipino (Pilipinas)","fil-PH","Filipino (Philippines)"],["FranÃ§ais (Canada)","fr-CA","French (Canada)"],["FranÃ§ais (France)","fr-FR","French (France)",1],["Galego (EspaÃ±a)","gl-ES","Galician (Spain)"],["áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜ (áƒ¡áƒáƒ¥áƒáƒ áƒ—áƒ•áƒ”áƒšáƒ)","ka-GE","Georgian (Georgia)"],["àª—à«àªœàª°àª¾àª¤à«€ (àª­àª¾àª°àª¤)","gu-IN","Gujarati (India)"],["Hrvatski (Hrvatska)","hr-HR","Croatian (Croatia)"],["IsiZulu (Ningizimu Afrika)","zu-ZA","Zulu (South Africa)"],["Ãslenska (Ãsland)","is-IS","Icelandic (Iceland)"],["Italiano (Italia)","it-IT","Italian (Italy)"],["Jawa (Indonesia)","jv-ID","Javanese (Indonesia)"],["à²•à²¨à³à²¨à²¡ (à²­à²¾à²°à²¤)","kn-IN","Kannada (India)"],["áž—áž¶ážŸáž¶ážáŸ’áž˜áŸ‚ážš (áž€áž˜áŸ’áž–áž»áž‡áž¶)","km-KH","Khmer (Cambodia)"],["àº¥àº²àº§ (àº¥àº²àº§)","lo-LA","Lao (Laos)"],["LatvieÅ¡u (latvieÅ¡u)","lv-LV","Latvian (Latvia)"],["LietuviÅ³ (Lietuva)","lt-LT","Lithuanian (Lithuania)"],["Magyar (MagyarorszÃ¡g)","hu-HU","Hungarian (Hungary)"],["à´®à´²à´¯à´¾à´³à´‚ (à´‡à´¨àµà´¤àµà´¯)","ml-IN","Malayalam (India)"],["à¤®à¤°à¤¾à¤ à¥€ (à¤­à¤¾à¤°à¤¤)","mr-IN","Marathi (India)"],["Nederlands (Nederland)","nl-NL","Dutch (Netherlands)"],["à¤¨à¥‡à¤ªà¤¾à¤²à¥€ (à¤¨à¥‡à¤ªà¤¾à¤²)","ne-NP","Nepali (Nepal)"],["Norsk bokmÃ¥l (Norge)","nb-NO","Norwegian BokmÃ¥l (Norway)"],["Polski (Polska)","pl-PL","Polish (Poland)"],["PortuguÃªs (Brasil)","pt-BR","Portuguese (Brazil)",1],["PortuguÃªs (Portugal)","pt-PT","Portuguese (Portugal)"],["RomÃ¢nÄƒ (RomÃ¢nia)","ro-RO","Romanian (Romania)"],["à·ƒà·’à¶‚à·„à¶½ (à·à·Šà¶»à·“ à¶½à¶‚à¶šà·à·€)","si-LK","Sinhala (Sri Lanka)"],["SlovenÄina (Slovensko)","sk-SK","Slovak (Slovakia)"],["SlovenÅ¡Äina (Slovenija)","sl-SI","Slovenian (Slovenia)"],["Urang (Indonesia)","su-ID","Sundanese (Indonesia)"],["Swahili (Tanzania)","sw-TZ","Swahili (Tanzania)"],["Swahili (Kenya)","sw-KE","Swahili (Kenya)"],["Suomi (Suomi)","fi-FI","Finnish (Finland)"],["Svenska (Sverige)","sv-SE","Swedish (Sweden)"],["à®¤à®®à®¿à®´à¯ (à®‡à®¨à¯à®¤à®¿à®¯à®¾)","ta-IN","Tamil (India)"],["à®¤à®®à®¿à®´à¯ (à®šà®¿à®™à¯à®•à®ªà¯à®ªà¯‚à®°à¯)","ta-SG","Tamil (Singapore)"],["à®¤à®®à®¿à®´à¯ (à®‡à®²à®™à¯à®•à¯ˆ)","ta-LK","Tamil (Sri Lanka)"],["à®¤à®®à®¿à®´à¯ (à®®à®²à¯‡à®šà®¿à®¯à®¾)","ta-MY","Tamil (Malaysia)"],["à°¤à±†à°²à±à°—à± (à°­à°¾à°°à°¤à°¦à±‡à°¶à°‚)","te-IN","Telugu (India)"],["Tiáº¿ng Viá»‡t (Viá»‡t Nam)","vi-VN","Vietnamese (Vietnam)"],["TÃ¼rkÃ§e (TÃ¼rkiye)","tr-TR","Turkish (Turkey)"],["Ø§Ø±Ø¯Ùˆ (Ù¾Ø§Ú©Ø³ØªØ§Ù†)","ur-PK","Urdu (Pakistan)"],["Ø§Ø±Ø¯Ùˆ (Ø¨Ú¾Ø§Ø±Øª)","ur-IN","Urdu (India)",1],["Î•Î»Î»Î·Î½Î¹ÎºÎ¬ (Î•Î»Î»Î¬Î´Î±)","el-GR","Greek (Greece)"],["Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸ (Ð‘ÑŠÐ»Ð³Ð°Ñ€Ð¸Ñ)","bg-BG","Bulgarian (Bulgaria)"],["Ð ÑƒÑÑÐºÐ¸Ð¹ (Ð Ð¾ÑÑÐ¸Ñ)","ru-RU","Russian (Russia)"],["Ð¡Ñ€Ð¿ÑÐºÐ¸ (Ð¡Ñ€Ð±Ð¸Ñ˜Ð°)","sr-RS","Serbian (Serbia)"],["Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ° (Ð£ÐºÑ€Ð°Ñ—Ð½Ð°)","uk-UA","Ukrainian (Ukraine)"],["×¢×‘×¨×™×ª (×™×©×¨××œ)","he-IL","Hebrew (Israel)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„)","ar-IL","Arabic (Israel)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø§Ù„Ø£Ø±Ø¯Ù†)","ar-JO","Arabic (Jordan)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª)","ar-AE","Arabic (United Arab Emirates)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†)","ar-BH","Arabic (Bahrain)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±)","ar-DZ","Arabic (Algeria)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©)","ar-SA","Arabic (Saudi Arabia)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø§Ù„Ø¹Ø±Ø§Ù‚)","ar-IQ","Arabic (Iraq)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø§Ù„ÙƒÙˆÙŠØª)","ar-KW","Arabic (Kuwait)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø§Ù„Ù…ØºØ±Ø¨)","ar-MA","Arabic (Morocco)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (ØªÙˆÙ†Ø³)","ar-TN","Arabic (Tunisia)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø¹ÙÙ…Ø§Ù†)","ar-OM","Arabic (Oman)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (ÙÙ„Ø³Ø·ÙŠÙ†)","ar-PS","Arabic (State of Palestine)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ù‚Ø·Ø±)","ar-QA","Arabic (Qatar)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ù„Ø¨Ù†Ø§Ù†)","ar-LB","Arabic (Lebanon)"],["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ù…ØµØ±)","ar-EG","Arabic (Egypt)",1],["ÙØ§Ø±Ø³ÛŒ (Ø§ÛŒØ±Ø§Ù†)","fa-IR","Persian (Iran)"],["à¤¹à¤¿à¤¨à¥à¤¦à¥€ (à¤­à¤¾à¤°à¤¤)","hi-IN","Hindi (India)"],["à¹„à¸—à¸¢ (à¸›à¸£à¸°à¹€à¸—à¸¨à¹„à¸—à¸¢)","th-TH","Thai (Thailand)"],["í•œêµ­ì–´ (ëŒ€í•œë¯¼êµ­)","ko-KR","Korean (South Korea)"],["åœ‹èªž (å°ç£)","zh-TW","Chinese, Mandarin (Traditional, Taiwan)"],["å»£æ±è©± (é¦™æ¸¯)","yue-Hant-HK","Chinese, Cantonese (Traditional, Hong Kong)"],["æ—¥æœ¬èªžï¼ˆæ—¥æœ¬ï¼‰","ja-JP","Japanese (Japan)"],["æ™®é€šè©± (é¦™æ¸¯)","zh-HK","Chinese, Mandarin (Simplified, Hong Kong)"],["æ™®é€šè¯ (ä¸­å›½å¤§é™†)","zh","Chinese, Mandarin (Simplified, China)"]],normalizeCode:function(code){return code?code.toUpperCase().replace(/_/g,"-"):""},areCodesEqual:function(a,b){return a==b||!(!a||!b)&&this.normalizeCode(a)==this.normalizeCode(b)},isLanguageCodeSupported:function(code){return!!this.getLocaleByCode(code)},supportedLanguagesString:function(){let str="";for(let lang of this.allLocales)str+=this.codeToLabel(lang[1])+"\n";return str},codeToName:function(code,nameType="native"){if(!code)return"";let list=code.includes("-")||code.includes("_")?this.allLocales:this.getSupportedLanguagesOnlyList();for(const language of list)if(this.areCodesEqual(language[1],code))switch(nameType){case"english":return language[2];case"both":return language[0]+" - "+language[2];default:return language[0]}},getFlagForCountryCode:function(code){if(null==code||2!=code.length)return"";if("IL"==(code=code.toUpperCase()))return"ðŸ‡®ðŸ‡±";if("PS"==code)return"ðŸ‡µðŸ‡¸";return String.fromCodePoint(code.codePointAt(0)-65+127462)+String.fromCodePoint(code.codePointAt(1)-65+127462)},codeToCountryCode:function(code){if(!code||code.length<2)return"";if((code=code.replace("-","_")).indexOf("_")>-1){let parts=code.split("_");code=parts[parts.length-1]}else if("zh"==(code=code.substring(code.length-2,code.length))||"ZH"==code)return"CN";return code},codeToLanguageCodeOnly:function(code){return null==code||code.length<2?"":code.toLowerCase().replace("_","-").split("-")[0]},doCodesShareLanguage:function(a,b){return this.codeToLanguageCodeOnly(a)==this.codeToLanguageCodeOnly(b)},getLocaleByCode:function(code){if(!code)return"";if(!(code=this.normalizeCode(code)).includes("-"))return this.getDefaultLocaleForLanguage(code);for(let lang of this.allLocales)if(this.areCodesEqual(lang[1],code))return lang;return""},getSupportedLanguagesOnlyList:function(){let languagesOnlyKeys={};for(const locale of this.allLocales)languagesOnlyKeys[this.codeToLanguageCodeOnly(locale[1])]=[locale[0].split(" (")[0],this.codeToLanguageCodeOnly(locale[1]),locale[2].split(" (")[0]];let list=[];for(const key of Object.getOwnPropertyNames(languagesOnlyKeys))list.push(languagesOnlyKeys[key]);return list=list.sort(((a,b)=>a[0].localeCompare(b[0]))),list},getAllLocalesForLanguage:function(code){if(!code)return[];return code=this.codeToLanguageOnly(code),this.allLocales.filter((lang=>this.codeToLanguageCodeOnly(lang[1])==code))},getDefaultLocaleForLanguage:function(code){if(!code)return"";code=this.codeToLanguageOnly(code).toLowerCase();let locales=this.allLocales.filter((lang=>this.codeToLanguageCodeOnly(lang[1])==code));if(!locales||0==locales.length)return"";if(1==locales.length)return locales[0];let locales4=locales.filter((locale=>locale.length>3));return locales4&&locales4.length>0?locales4[0]:locales[0]},codeToLanguageOnly:function(code){return code?code.toLowerCase().replace("_","-").split("-")[0]:""},codeToFlag:function(code){return this.getFlagForCountryCode(this.codeToCountryCode(code))},codeToLabel:function(code){return this.codeToFlag(code)+" "+this.codeToName(code)}}},{}],2:[function(require,module,exports){window.wsGlobals=window.wsGlobals||{},window.wsGlobals.TtsEngine=require("./index").TtsEngine},{"./index":3}],3:[function(require,module,exports){const{Languages:Languages}=require("locales");exports.TtsEngine={DEFAULT_LANG:"en",voice:null,voices:null,rate:.9,utteranceId:0,startedAndNotTerminatedCounter:0,listener:null,utterance:null,_googleBugTimeout:null,_speakTimeout:null,_canceledAtMs:0,init:function(listener){null!=listener&&(this.listener=listener),this._populateVoices();let self=this;void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=function(){self._populateVoices()})},setListener:function(listener){this.listener=listener},_setBestMatchingVoice:function(voice,voiceURI,lang){if(null==this.voices||0==this.voices.length)return"";if(voice)for(const iVoice of this.voices)if(iVoice==voice)return this.voice=iVoice,iVoice.voiceURI;if(voiceURI)for(const iVoice of this.voices)if(iVoice.voiceURI==voiceURI)return this.voice=iVoice,iVoice.voiceURI;if(lang)for(const iVoice of this.voices)if(Languages.doCodesShareLanguage(iVoice.lang,lang))return this.voice=iVoice,iVoice.voiceURI;if(null!=this.voice)for(const iVoice of this.voices)if(iVoice==this.voice)return iVoice.voiceURI;return this.voice=this.voices[0],this.voice.voiceURI},_populateVoices:function(){let voices=window.speechSynthesis.getVoices();if(null!=voices&&voices.length>0){this.voices;null!=this.voices&&0!=this.voices.length||(this.voices=voices,this._setBestMatchingVoice(this.voice,this.DEFAULT_LANG)),null!=this.listener&&void 0!==this.listener.onInit&&this.listener.onInit(this.voices)}},setVoiceByUri:function(voiceURI){this._setBestMatchingVoice(null,voiceURI,null)},setVoice:function(voice){this._setBestMatchingVoice(voice,null,null)},setRate:function(rate){"string"==typeof rate&&(rate=Number(rate)),isNaN(rate)||(rate<.1&&(rate=.1),rate>4&&(rate=4),this.rate=rate)},isInitiated:function(){return null!=this.voices},_defaultOnStart:function(ev){this.startedAndNotTerminatedCounter++,this._solveChromeBug()},_defaultOnEnd:function(ev){this.startedAndNotTerminatedCounter>0&&this.startedAndNotTerminatedCounter--,this._clearUtteranceTimeouts()},_defaultOnError:function(ev){this.startedAndNotTerminatedCounter>0&&this.startedAndNotTerminatedCounter--,this._clearUtteranceTimeouts()},_clearUtteranceTimeouts:function(){null!=this._googleBugTimeout&&(window.clearTimeout(this._googleBugTimeout),this._googleBugTimeout=null)},_solveChromeBug:function(){if(null==this.voice)return;if(-1==this.voice.voiceURI.toLowerCase().indexOf("google"))return;this._clearUtteranceTimeouts();let self=this;this._googleBugTimeout=window.setTimeout((function(){window.speechSynthesis.pause(),window.speechSynthesis.resume(),self._solveChromeBug()}),2e3)},_prepareTextForSynthesis:function(text){let decodedText=text;return decodedText=decodedText.replace("Â·",", "),decodedText=decodedText.replace("- ",", "),decodedText.trim(),decodedText},speakOut:function(text){let instance=this;if(this.startedAndNotTerminatedCounter>0||window.speechSynthesis.paused||window.speechSynthesis.pending||window.speechSynthesis.speaking)return this.stop(),void(this._speakTimeout=window.setTimeout((function(){instance.speakOut(text)}),200));if(!text||0==text.length)return void(this.utterance&&this.utterance.onend());if(text=this._prepareTextForSynthesis(text),!this.isInitiated())return!1;this.utteranceId++;let utterance=new SpeechSynthesisUtterance;this.utterance=utterance,utterance.text=text,null==this.voice&&this._setBestMatchingVoice(null,null,this.DEFAULT_LANG),utterance.lang=this.voice.lang,utterance.voiceURI=this.voice.voiceURI,utterance.voice=this.voice,utterance.rate=this.rate;let self=this;utterance.onstart=function(ev){self._defaultOnStart(ev),self.listener&&self.listener.onStart&&self.listener.onStart()},utterance.onboundary=function(event){},utterance.onend=function(ev){self._defaultOnEnd(ev),self.listener&&self.listener.onDone&&self.listener.onDone(),utterance=null},utterance.onerror=function(ev){self._defaultOnError(ev),utterance=null},this._speakUtterance(utterance)},stop(){null!=this._speakTimeout&&(window.clearTimeout(this._speakTimeout),this._speakTimeout=null),window.speechSynthesis.cancel(),this.startedAndNotTerminatedCounter=0,this._canceledAtMs=Date.now()},_speakUtterance(utterance){null!=this._speakTimeout&&(window.clearTimeout(this._speakTimeout),this._speakTimeout=null),window.speechSynthesis.paused&&window.speechSynthesis.resume(),Date.now()-this._canceledAtMs>100?window.speechSynthesis.speak(utterance):this._speakTimeout=window.setTimeout((function(){window.speechSynthesis.speak(utterance)}),200)}}},{locales:1}]},{},[2]);
